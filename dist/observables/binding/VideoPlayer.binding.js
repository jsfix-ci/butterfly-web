"use strict";
// Generated by Butterfly TypeScript converter
Object.defineProperty(exports, "__esModule", { value: true });
const Video_1 = require("../../Video");
const DisposeCondition_ext_1 = require("../../rx/DisposeCondition.ext");
const ObservableProperty_ext_1 = require("../ObservableProperty.ext");
const Language_1 = require("../../kotlin/Language");
//! Declares com.lightningkite.butterfly.observables.binding.bind>com.lightningkite.butterfly.views.widget.VideoPlayer
function xVideoPlayerBind(this_, video) {
    DisposeCondition_ext_1.xDisposableUntil(ObservableProperty_ext_1.xObservablePropertySubscribeBy(video, undefined, undefined, (x) => {
        xVideoPlayerLoadVideo(this_, x);
    }), DisposeCondition_ext_1.xViewRemovedGet(this_));
}
exports.xVideoPlayerBind = xVideoPlayerBind;
//! Declares com.lightningkite.butterfly.observables.binding.bindAndStart>com.lightningkite.butterfly.views.widget.VideoPlayer
function xVideoPlayerBindAndStart(this_, video) {
    DisposeCondition_ext_1.xDisposableUntil(ObservableProperty_ext_1.xObservablePropertySubscribeBy(video, undefined, undefined, (x) => {
        xVideoPlayerLoadVideo(this_, x);
        this_.play();
    }), DisposeCondition_ext_1.xViewRemovedGet(this_));
}
exports.xVideoPlayerBindAndStart = xVideoPlayerBindAndStart;
//! Declares com.lightningkite.butterfly.observables.binding.bind>com.google.android.exoplayer2.ui.PlayerView
exports.xPlayerViewBind = xVideoPlayerBind;
function xVideoPlayerLoadVideo(this_, video) {
    if (video === null) {
        this_.src = "";
        return;
    }
    else if (video instanceof Video_1.VideoReference) {
        const url = URL.createObjectURL(video.uri);
        this_.src = url;
    }
    else if (video instanceof Video_1.VideoRemoteUrl) {
        this_.src = video.url;
    }
    else {
        throw new Language_1.IllegalArgumentException(`Unrecognized type ${video}`, null);
    }
}
//# sourceMappingURL=VideoPlayer.binding.js.map